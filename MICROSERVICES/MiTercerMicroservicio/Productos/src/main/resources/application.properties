# Sets the application name in the Spring Cloud ecosystem.
# This is how the service will appear when it registers with Eureka.
# Other services can reference this name when using service discovery.
spring.application.name=ms-productos

# Sets the HTTP port on which the app runs.
# ${PORT:0} means:
#   If the environment variable PORT is set, use its value.
#   Otherwise, use 0, which tells Spring Boot to choose a random available port.
# Useful in cloud environments where the port is dynamically assigned.
server.port=${PORT:0}

# Configures a custom instance ID for Eureka registration.
# The ID is built from:
#   the hostname,
#   the application name,
#   a random value (to avoid collisions).
# This ensures that if multiple instances of ms-productos run, they each register with a unique ID.
eureka.instance.instance-id=${spring.cloud.client.hostname}:${spring.application.name}:${random.value}

# Tells Eureka to register the instance using its IP address instead of its hostname.
# This helps avoid DNS resolution issues in some environments (like containers or Kubernetes).
eureka.instance.prefer-ip-address=true

# Enables registration using the non-secure HTTP port.
# By default, if security is enabled, Eureka may try to register the secure port (HTTPS).
# This ensures the service is registered and reachable over regular HTTP.
eureka.instance.nonSecurePortEnabled=true

# Configures the base URL of the management endpoints reported to Spring Boot Admin.
# This lets Spring Boot Admin know where to fetch monitoring info (e.g. health, metrics).
# In this case, the service tells the admin server (assumed to be at localhost:8761) where it?s running.
spring.boot.admin.client.instance.management-base-url=http://localhost:8761

eureka.client.renewalIntervalInSecs=30
eureka.client.registryFetchIntervalSeconds=30
eureka.server.renewalPercentThreshold=0.85
eureka.server.enableSelfPreservation=false